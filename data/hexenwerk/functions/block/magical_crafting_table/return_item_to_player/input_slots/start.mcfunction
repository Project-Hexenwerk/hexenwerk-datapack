tag @s add hexenwerk.this
execute unless block ~ ~ ~ barrel{Items:[{Slot:6b,components:{"minecraft:custom_data":{hexenwerk:{id:"spell_book"}}}}]} unless block ~ ~ ~ barrel{Items:[{Slot:6b,components:{"minecraft:custom_data":{hexenwerk:{input_slot:1b}}}}]} run function hexenwerk:block/magical_crafting_table/return_item_to_player/input_slots/6
execute unless block ~ ~ ~ barrel{Items:[{Slot:12b,components:{"minecraft:custom_data":{hexenwerk:{id:"wand"}}}}]} unless block ~ ~ ~ barrel{Items:[{Slot:12b,components:{"minecraft:custom_data":{hexenwerk:{input_slot:1b}}}}]} run function hexenwerk:block/magical_crafting_table/return_item_to_player/input_slots/12
execute unless block ~ ~ ~ barrel{Items:[{Slot:15b,components:{"minecraft:custom_data":{hexenwerk:{id:"spell_book"}}}}]} unless block ~ ~ ~ barrel{Items:[{Slot:15b,components:{"minecraft:custom_data":{hexenwerk:{input_slot:1b}}}}]} run function hexenwerk:block/magical_crafting_table/return_item_to_player/input_slots/15
execute unless block ~ ~ ~ barrel{Items:[{Slot:24b,components:{"minecraft:custom_data":{hexenwerk:{id:"spell_book"}}}}]} unless block ~ ~ ~ barrel{Items:[{Slot:24b,components:{"minecraft:custom_data":{hexenwerk:{input_slot:1b}}}}]} run function hexenwerk:block/magical_crafting_table/return_item_to_player/input_slots/24
tag @s remove hexenwerk.this
clear @s barrier{hexenwerk:{input_slot:1b}}